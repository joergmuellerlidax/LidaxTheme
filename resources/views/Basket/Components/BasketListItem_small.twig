{{ component( "Ceres::Item.Components.QuantityInput" ) }}
{% set configItemName = config("Ceres.item.name") %}

<article class="cmp cmp-basket-preview-item">
    <!-- ITEM QUANTITY -->
    <div class="basket-item-quantity">
        <quantity-input template="#vue-quantity-input" @quantity-change="updateQuantity" :value="basketItem.quantity" :vertical="true" :waiting="waiting"></quantity-input>
    </div>
    <!-- ./ITEM QUANTITY -->

    <!-- ITEM IMAGE -->
    <div class="basket-item-image">
        <div class="square-container">
            <div class="square-inner center-xy main-image">
                <img class="img-fluid" :src="basketItem.variation.data.images | itemImages 'urlPreview' | arrayFirst" alt="${ basketItem.variation.data.texts | itemName {{configItemName}}  }">
            </div>
        </div>
    </div>
    <!-- ./ITEM IMAGE -->

    <!-- ITEM DETAILS -->
    <div class="basket-item-infos small">
        <a class="clearfix" :href="basketItem.variation.data | itemURL">
            <div class="item-name">
                ${ basketItems | json }
                ${ basketItem.variation.data.texts | itemName {{ configItemName }} } {# ${ basketItem.variation.variationBase.variationName } #}
            </div>
        </a>
        <div class="item-unit-price">
            ${ basketItem.variation.data.calculatedPrices.default.unitPrice | currency basketItem.variation.data.calculatedPrices.default.currency }<sup>*</sup> / {{ trans("Ceres::Template.itemEach") }}
        </div>
        <div class="item-total-price">
            ${ basketItem.quantity * basketItem.variation.data.calculatedPrices.default.price | currency basketItem.variation.data.calculatedPrices.default.currency }<sup>*</sup>
        </div>
        
        <!-- <div class="eek-sign clearfix">
            <a :href="basketItem.variation.data.images.all[basketItem.variation.data.images.all.length - 1].url | json" :data-lightbox="basketItem.variation.id"><span>A++</span></a>
        </div> -->
        <div>
            <div v-for="prop in basketItem.variation.data.properties">
                <div v-bind:class="{
                    'eek-aaa': prop.property.names[0].name === 'A++',
                    'eek-aa' : prop.property.names[0].name === 'A+',
                    'eek-a' : prop.property.names[0].name === 'A',
                    'eek-b' : prop.property.names[0].name === 'B',
                    'eek-c' : prop.property.names[0].name === 'C',
                    'eek-d' : prop.property.names[0].name === 'D',
                    'eek-e' : prop.property.names[0].name === 'E',
                    'hidden-xs-up' : prop.property.names[0].name === 'EEK Skala'
                    }"
                    class="eek-sign clearfix" v-if="prop.group.backendName === 'Energieeffizienzklasse'">
                    <a :href="basketItem.variation.data.images.all[basketItem.variation.data.images.all.length - 1].url | json" :data-lightbox="basketItem.id"><span>${ prop.property.names[0].name }</span>
                    </a>
                </div>
            </div>
        </div>
        <button type="button" class="item-remove btn btn-labeled btn-link btn-sm" @click="deleteItem" :disabled="waiting" :class="{ 'btn-link' : !deleteConfirmed, 'btn-danger' : deleteConfirmed }">
            <span class="message" v-if="!deleteConfirmed">
                {{ trans("Ceres::Template.generalDelete") }}
            </span>
            <span class="message" v-else>
                {{ trans("Ceres::Template.generalDeleteNow") }}
              </span>
            <span class="btn-label" @click.stop="resetDelete">
                <i class="fa fa-times"></i>
            </span>
        </button>
    </div>
    <!-- ./ITEM DETAILS -->

</article>